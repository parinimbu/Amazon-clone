[debug] [2021-02-15T08:30:43.857Z] ----------------------------------------------------------------------
[debug] [2021-02-15T08:30:43.859Z] Command:       /home/parin/.nvm/versions/node/v12.18.3/bin/node /home/parin/.nvm/versions/node/v12.18.3/bin/firebase emulators:start
[debug] [2021-02-15T08:30:43.859Z] CLI Version:   9.3.0
[debug] [2021-02-15T08:30:43.860Z] Platform:      linux
[debug] [2021-02-15T08:30:43.860Z] Node Version:  v12.18.3
[debug] [2021-02-15T08:30:43.879Z] Time:          Mon Feb 15 2021 14:15:43 GMT+0545 (Nepal Time)
[debug] [2021-02-15T08:30:43.880Z] ----------------------------------------------------------------------
[debug] [2021-02-15T08:30:43.880Z] 
[debug] [2021-02-15T08:30:43.896Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2021-02-15T08:30:43.962Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-02-15T08:30:43.963Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-02-15T08:30:44.000Z] [hub] writing locator at /tmp/hub-clone-3d08a.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[info] ✔  functions: Using node@12 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@12 from host."}}
[debug] [2021-02-15T08:30:44.115Z] defaultcredentials: writing to file /home/parin/.config/firebase/limbooparinn_gmail_com_application_default_credentials.json
[debug] [2021-02-15T08:30:44.128Z] Setting GAC to /home/parin/.config/firebase/limbooparinn_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/parin/.config/firebase/limbooparinn_gmail_com_application_default_credentials.json"}}
[debug] [2021-02-15T08:30:44.134Z] > refreshing access token with scopes: []
[debug] [2021-02-15T08:30:44.136Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-02-15T08:30:44.489Z] <<< HTTP RESPONSE 200 {"date":"Mon, 15 Feb 2021 08:30:44 GMT","pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-02-15T08:30:44.560Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-3d08a/adminSdkConfig [none]
[debug] [2021-02-15T08:30:45.219Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2021-02-15T08:30:45.220Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2021-02-15T08:30:45.324Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-3d08a/adminSdkConfig 200
[debug] [2021-02-15T08:30:45.325Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-3d08a/adminSdkConfig {"projectId":"clone-3d08a","databaseURL":"https://clone-3d08a.firebaseio.com","storageBucket":"clone-3d08a.appspot.com"}
[debug] [2021-02-15T08:30:45.377Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-3d08a/webApps/-/config [none]
[debug] [2021-02-15T08:30:46.737Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-3d08a/webApps/-/config 200
[debug] [2021-02-15T08:30:46.737Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-3d08a/webApps/-/config {"projectId":"clone-3d08a","appId":"1:816741731989:web:fd5e8e70ef895ba4ab559c","databaseURL":"https://clone-3d08a.firebaseio.com","storageBucket":"clone-3d08a.appspot.com","apiKey":"AIzaSyD2jozyFiJZYMdIdEsq0mze1pX8d8rn5Qg","authDomain":"clone-3d08a.firebaseapp.com","messagingSenderId":"816741731989","measurementId":"G-NN6FZWFK7P"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-02-15T08:30:46.917Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-02-15T08:30:46.917Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-02-15T08:30:46.917Z] Starting Emulator UI with command {"binary":"node","args":["/home/parin/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/parin/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-02-15T08:30:47.058Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/home/parin/Documents/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/parin/Documents/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-02-15T08:30:47.218Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-02-15T08:30:47.218Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-02-15T08:30:47.218Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-02-15T08:30:47.219Z] [worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: Assigning socketPath: /tmp/fire_emu_6241.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: Assigning socketPath: /tmp/fire_emu_6241.sock"}}
[debug] [2021-02-15T08:30:47.221Z] [worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: BUSY"}}
[debug] [2021-02-15T08:30:47.483Z] [runtime-status] [6241] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T08:30:47.486Z] [runtime-status] [6241] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Disabled runtime features: undefined"}}
[debug] [2021-02-15T08:30:47.491Z] [runtime-status] [6241] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.492Z] [runtime-status] [6241] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.494Z] [runtime-status] [6241] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.497Z] [runtime-status] [6241] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T08:30:47.499Z] [runtime-status] [6241] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.876Z] [runtime-status] [6241] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T08:30:47.877Z] [runtime-status] [6241] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T08:30:47.877Z] [runtime-status] [6241] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.879Z] [runtime-status] [6241] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.880Z] [runtime-status] [6241] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T08:30:47.880Z] [runtime-status] [6241] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6241] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/clone-3d08a/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-3d08a/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-02-15T08:30:48.509Z] [worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: IDLE"}}
[debug] [2021-02-15T09:29:37.311Z] File /home/parin/Documents/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/parin/Documents/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-02-15T09:29:38.311Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-02-15T09:29:38.312Z] [worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: FINISHING"}}
[debug] [2021-02-15T09:29:38.376Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-02-15T09:29:38.376Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-02-15T09:29:38.377Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-02-15T09:29:38.377Z] [worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: Assigning socketPath: /tmp/fire_emu_8083.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: Assigning socketPath: /tmp/fire_emu_8083.sock"}}
[debug] [2021-02-15T09:29:38.377Z] [worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: BUSY"}}
[debug] [2021-02-15T09:29:38.379Z] [worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: exited"}}
[debug] [2021-02-15T09:29:38.379Z] [worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-deb8f311-8d6e-4e2d-bc16-629d05179a65]: FINISHED"}}
[debug] [2021-02-15T09:29:38.576Z] [runtime-status] [8083] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:29:38.579Z] [runtime-status] [8083] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:29:38.583Z] [runtime-status] [8083] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.586Z] [runtime-status] [8083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.587Z] [runtime-status] [8083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.591Z] [runtime-status] [8083] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:29:38.591Z] [runtime-status] [8083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.636Z] [runtime-status] [8083] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:29:38.637Z] [runtime-status] [8083] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:29:38.639Z] [runtime-status] [8083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.639Z] [runtime-status] [8083] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.640Z] [runtime-status] [8083] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:38.641Z] [runtime-status] [8083] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8083] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:29:38.778Z] [worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: IDLE"}}
[debug] [2021-02-15T09:29:43.329Z] File /home/parin/Documents/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/parin/Documents/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2021-02-15T09:29:44.330Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-02-15T09:29:44.331Z] [worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: FINISHING"}}
[debug] [2021-02-15T09:29:44.331Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-02-15T09:29:44.341Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-02-15T09:29:44.341Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-02-15T09:29:44.341Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-02-15T09:29:44.341Z] [worker-~diagnostic~-1b8a6290-973f-40b1-ab79-d20530565c46]: Assigning socketPath: /tmp/fire_emu_8104.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1b8a6290-973f-40b1-ab79-d20530565c46]: Assigning socketPath: /tmp/fire_emu_8104.sock"}}
[debug] [2021-02-15T09:29:44.341Z] [worker-~diagnostic~-1b8a6290-973f-40b1-ab79-d20530565c46]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1b8a6290-973f-40b1-ab79-d20530565c46]: BUSY"}}
[debug] [2021-02-15T09:29:44.343Z] [worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: exited"}}
[debug] [2021-02-15T09:29:44.343Z] [worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b852d323-4379-409c-a4a3-8a86b7412786]: FINISHED"}}
[debug] [2021-02-15T09:29:44.482Z] [runtime-status] [8104] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:29:44.485Z] [runtime-status] [8104] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:29:44.489Z] [runtime-status] [8104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.490Z] [runtime-status] [8104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.493Z] [runtime-status] [8104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.496Z] [runtime-status] [8104] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:29:44.498Z] [runtime-status] [8104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.544Z] [runtime-status] [8104] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:29:44.545Z] [runtime-status] [8104] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:29:44.545Z] [runtime-status] [8104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.548Z] [runtime-status] [8104] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.549Z] [runtime-status] [8104] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:29:44.549Z] [runtime-status] [8104] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8104] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:29:44.649Z] [worker-~diagnostic~-1b8a6290-973f-40b1-ab79-d20530565c46]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1b8a6290-973f-40b1-ab79-d20530565c46]: IDLE"}}
[debug] [2021-02-15T09:30:05.843Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:30:05.844Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:30:05.845Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=26899 --> api
[debug] [2021-02-15T09:30:05.846Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-02-15T09:30:05.860Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:30:05.861Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:30:05.862Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:30:05.862Z] [worker-api-a5453965-49cb-4691-a06e-57a431369259]: Assigning socketPath: /tmp/fire_emu_8120.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5453965-49cb-4691-a06e-57a431369259]: Assigning socketPath: /tmp/fire_emu_8120.sock"}}
[debug] [2021-02-15T09:30:05.862Z] [worker-api-a5453965-49cb-4691-a06e-57a431369259]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5453965-49cb-4691-a06e-57a431369259]: BUSY"}}
[debug] [2021-02-15T09:30:06.063Z] [runtime-status] [8120] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:30:06.066Z] [runtime-status] [8120] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:30:06.069Z] [runtime-status] [8120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.071Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.073Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.077Z] [runtime-status] [8120] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:30:06.078Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.123Z] [runtime-status] [8120] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:30:06.123Z] [runtime-status] [8120] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:30:06.126Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.126Z] [runtime-status] [8120] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.128Z] [runtime-status] [8120] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:30:06.128Z] [runtime-status] [8120] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:30:06.293Z] [runtime-status] [8120] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:30:06.295Z] [runtime-status] [8120] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:30:06.295Z] [runtime-status] [8120] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:30:06.300Z] [runtime-status] [8120] Attempting to listen to socketPath: /tmp/fire_emu_8120.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Attempting to listen to socketPath: /tmp/fire_emu_8120.sock"}}
[debug] [2021-02-15T09:30:06.314Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:30:06.315Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=26899, mapping to path=/payments/create?total=26899 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=26899, mapping to path=/payments/create?total=26899"}}
[debug] [2021-02-15T09:30:06.364Z] [runtime-status] [8120] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 26899 {"user":"payment request received for the amount >>> 26899","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 26899"}}
[debug] [2021-02-15T09:30:06.385Z] [runtime-status] [8120] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8120] Ephemeral server survived."}}
[info] >  (node:8120) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8120) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8120) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8120) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8120) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8120) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8120) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8120) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8120) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:31:06.367Z] [worker-api-a5453965-49cb-4691-a06e-57a431369259]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5453965-49cb-4691-a06e-57a431369259]: exited"}}
[debug] [2021-02-15T09:31:06.368Z] [worker-api-a5453965-49cb-4691-a06e-57a431369259]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a5453965-49cb-4691-a06e-57a431369259]: FINISHED"}}
[debug] [2021-02-15T09:31:06.368Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:31:33.917Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:31:33.918Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:31:33.918Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:31:33.918Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-02-15T09:31:33.928Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:31:33.928Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:31:33.929Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:31:33.929Z] [worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: Assigning socketPath: /tmp/fire_emu_8405.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: Assigning socketPath: /tmp/fire_emu_8405.sock"}}
[debug] [2021-02-15T09:31:33.930Z] [worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: BUSY"}}
[debug] [2021-02-15T09:31:34.156Z] [runtime-status] [8405] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:31:34.160Z] [runtime-status] [8405] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:31:34.163Z] [runtime-status] [8405] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.166Z] [runtime-status] [8405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.167Z] [runtime-status] [8405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.201Z] [runtime-status] [8405] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:31:34.201Z] [runtime-status] [8405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.281Z] [runtime-status] [8405] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:31:34.282Z] [runtime-status] [8405] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:31:34.282Z] [runtime-status] [8405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.284Z] [runtime-status] [8405] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.288Z] [runtime-status] [8405] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:34.288Z] [runtime-status] [8405] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:31:34.487Z] [runtime-status] [8405] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:31:34.489Z] [runtime-status] [8405] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:31:34.489Z] [runtime-status] [8405] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:31:34.497Z] [runtime-status] [8405] Attempting to listen to socketPath: /tmp/fire_emu_8405.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Attempting to listen to socketPath: /tmp/fire_emu_8405.sock"}}
[debug] [2021-02-15T09:31:34.527Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:31:34.528Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:31:34.544Z] [runtime-status] [8405] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:31:34.551Z] [runtime-status] [8405] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8405] Ephemeral server survived."}}
[info] >  (node:8405) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8405) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8405) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8405) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8405) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8405) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8405) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8405) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8405) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-02-15T09:31:46.832Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-02-15T09:31:46.832Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-02-15T09:31:46.832Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-02-15T09:31:46.850Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:31:46.850Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-02-15T09:31:46.851Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:31:46.851Z] [worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: Assigning socketPath: /tmp/fire_emu_8418.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: Assigning socketPath: /tmp/fire_emu_8418.sock"}}
[debug] [2021-02-15T09:31:46.851Z] [worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: BUSY"}}
[debug] [2021-02-15T09:31:47.163Z] [runtime-status] [8418] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:31:47.166Z] [runtime-status] [8418] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:31:47.171Z] [runtime-status] [8418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.174Z] [runtime-status] [8418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.176Z] [runtime-status] [8418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.190Z] [runtime-status] [8418] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:31:47.190Z] [runtime-status] [8418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.252Z] [runtime-status] [8418] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:31:47.252Z] [runtime-status] [8418] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:31:47.255Z] [runtime-status] [8418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.260Z] [runtime-status] [8418] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.263Z] [runtime-status] [8418] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:31:47.263Z] [runtime-status] [8418] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:31:47.437Z] [runtime-status] [8418] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:31:47.439Z] [runtime-status] [8418] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:31:47.441Z] [runtime-status] [8418] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:31:47.450Z] [runtime-status] [8418] Attempting to listen to socketPath: /tmp/fire_emu_8418.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Attempting to listen to socketPath: /tmp/fire_emu_8418.sock"}}
[debug] [2021-02-15T09:31:47.453Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:31:47.455Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-02-15T09:31:47.502Z] [runtime-status] [8418] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 2999 {"user":"payment request received for the amount >>> 2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 2999"}}
[debug] [2021-02-15T09:31:47.531Z] [runtime-status] [8418] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8418] Ephemeral server survived."}}
[info] >  (node:8418) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8418) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8418) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8418) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8418) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8418) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8418) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8418) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8418) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:32:34.521Z] [worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: exited"}}
[debug] [2021-02-15T09:32:34.521Z] [worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0fe78cd9-2bd0-4c04-8497-36c7c243c2f2]: FINISHED"}}
[debug] [2021-02-15T09:32:34.521Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:32:47.467Z] [worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: exited"}}
[debug] [2021-02-15T09:32:47.467Z] [worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9bd169ed-2271-40ea-b295-d0fac4cb4b7c]: FINISHED"}}
[debug] [2021-02-15T09:32:47.468Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:37:52.020Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:37:52.020Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:37:52.021Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:37:52.021Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-02-15T09:37:52.034Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:37:52.035Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:37:52.035Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:37:52.035Z] [worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: Assigning socketPath: /tmp/fire_emu_8627.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: Assigning socketPath: /tmp/fire_emu_8627.sock"}}
[debug] [2021-02-15T09:37:52.036Z] [worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: BUSY"}}
[debug] [2021-02-15T09:37:52.358Z] [runtime-status] [8627] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:37:52.362Z] [runtime-status] [8627] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:37:52.370Z] [runtime-status] [8627] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.373Z] [runtime-status] [8627] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.379Z] [runtime-status] [8627] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.380Z] [runtime-status] [8627] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:37:52.381Z] [runtime-status] [8627] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.482Z] [runtime-status] [8627] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:37:52.482Z] [runtime-status] [8627] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:37:52.487Z] [runtime-status] [8627] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.488Z] [runtime-status] [8627] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.491Z] [runtime-status] [8627] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:37:52.491Z] [runtime-status] [8627] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:37:52.667Z] [runtime-status] [8627] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:37:52.668Z] [runtime-status] [8627] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:37:52.669Z] [runtime-status] [8627] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:37:52.676Z] [runtime-status] [8627] Attempting to listen to socketPath: /tmp/fire_emu_8627.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Attempting to listen to socketPath: /tmp/fire_emu_8627.sock"}}
[debug] [2021-02-15T09:37:52.682Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:37:52.683Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:37:52.726Z] [runtime-status] [8627] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:37:52.741Z] [runtime-status] [8627] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8627] Ephemeral server survived."}}
[info] >  (node:8627) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8627) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8627) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8627) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8627) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8627) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8627) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8627) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8627) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:38:52.687Z] [worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: exited"}}
[debug] [2021-02-15T09:38:52.687Z] [worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d6d3d7ce-3a0f-4a3c-a7f7-9b65ddb2c13f]: FINISHED"}}
[debug] [2021-02-15T09:38:52.687Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:40:24.745Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:40:24.745Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:40:24.746Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:40:24.746Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-02-15T09:40:24.754Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:40:24.755Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:40:24.755Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:40:24.755Z] [worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: Assigning socketPath: /tmp/fire_emu_8720.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: Assigning socketPath: /tmp/fire_emu_8720.sock"}}
[debug] [2021-02-15T09:40:24.756Z] [worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: BUSY"}}
[debug] [2021-02-15T09:40:25.114Z] [runtime-status] [8720] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:40:25.120Z] [runtime-status] [8720] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:40:25.128Z] [runtime-status] [8720] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.134Z] [runtime-status] [8720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.136Z] [runtime-status] [8720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.141Z] [runtime-status] [8720] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:40:25.143Z] [runtime-status] [8720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.239Z] [runtime-status] [8720] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:40:25.239Z] [runtime-status] [8720] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:40:25.241Z] [runtime-status] [8720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.243Z] [runtime-status] [8720] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.246Z] [runtime-status] [8720] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:40:25.247Z] [runtime-status] [8720] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:40:25.494Z] [runtime-status] [8720] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:40:25.502Z] [runtime-status] [8720] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:40:25.505Z] [runtime-status] [8720] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:40:25.506Z] [runtime-status] [8720] Attempting to listen to socketPath: /tmp/fire_emu_8720.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Attempting to listen to socketPath: /tmp/fire_emu_8720.sock"}}
[debug] [2021-02-15T09:40:25.530Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:40:25.530Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:40:25.558Z] [runtime-status] [8720] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:40:25.567Z] [runtime-status] [8720] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8720] Ephemeral server survived."}}
[info] >  (node:8720) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8720) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8720) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8720) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8720) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8720) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8720) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8720) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8720) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:41:25.514Z] [worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: exited"}}
[debug] [2021-02-15T09:41:25.514Z] [worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-6cec20ef-02e4-4f06-8f49-339d5ee4d2f1]: FINISHED"}}
[debug] [2021-02-15T09:41:25.515Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:44:37.049Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:44:37.050Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:44:37.050Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:44:37.050Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-02-15T09:44:37.062Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:44:37.063Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:44:37.063Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:44:37.063Z] [worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: Assigning socketPath: /tmp/fire_emu_8865.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: Assigning socketPath: /tmp/fire_emu_8865.sock"}}
[debug] [2021-02-15T09:44:37.064Z] [worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: BUSY"}}
[debug] [2021-02-15T09:44:37.481Z] [runtime-status] [8865] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:44:37.488Z] [runtime-status] [8865] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:44:37.503Z] [runtime-status] [8865] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.510Z] [runtime-status] [8865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.518Z] [runtime-status] [8865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.524Z] [runtime-status] [8865] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:44:37.538Z] [runtime-status] [8865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.640Z] [runtime-status] [8865] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:44:37.645Z] [runtime-status] [8865] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:44:37.654Z] [runtime-status] [8865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.659Z] [runtime-status] [8865] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.665Z] [runtime-status] [8865] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:44:37.666Z] [runtime-status] [8865] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:44:38.001Z] [runtime-status] [8865] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:44:38.003Z] [runtime-status] [8865] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:44:38.004Z] [runtime-status] [8865] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:44:38.018Z] [runtime-status] [8865] Attempting to listen to socketPath: /tmp/fire_emu_8865.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Attempting to listen to socketPath: /tmp/fire_emu_8865.sock"}}
[debug] [2021-02-15T09:44:38.023Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:44:38.024Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:44:38.051Z] [runtime-status] [8865] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:44:38.090Z] [runtime-status] [8865] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8865] Ephemeral server survived."}}
[info] >  (node:8865) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8865) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8865) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8865) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8865) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8865) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8865) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8865) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8865) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-02-15T09:45:05.921Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-02-15T09:45:05.922Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-02-15T09:45:05.922Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:45:05.929Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:45:05.930Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-02-15T09:45:05.930Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:45:05.930Z] [worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: Assigning socketPath: /tmp/fire_emu_8904.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: Assigning socketPath: /tmp/fire_emu_8904.sock"}}
[debug] [2021-02-15T09:45:05.930Z] [worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: BUSY"}}
[debug] [2021-02-15T09:45:06.267Z] [runtime-status] [8904] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:45:06.272Z] [runtime-status] [8904] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:45:06.276Z] [runtime-status] [8904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.278Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.281Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.286Z] [runtime-status] [8904] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:45:06.286Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.350Z] [runtime-status] [8904] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:45:06.351Z] [runtime-status] [8904] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:45:06.354Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.356Z] [runtime-status] [8904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.358Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:06.358Z] [runtime-status] [8904] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:45:06.581Z] [runtime-status] [8904] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:45:06.583Z] [runtime-status] [8904] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:45:06.584Z] [runtime-status] [8904] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:45:06.591Z] [runtime-status] [8904] Attempting to listen to socketPath: /tmp/fire_emu_8904.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Attempting to listen to socketPath: /tmp/fire_emu_8904.sock"}}
[debug] [2021-02-15T09:45:06.598Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:45:06.599Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:45:06.669Z] [runtime-status] [8904] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:45:06.691Z] [runtime-status] [8904] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server survived."}}
[info] >  (node:8904) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8904) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8904) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8904) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8904) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8904) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8904) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8904) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8904) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-02-15T09:45:31.950Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-02-15T09:45:31.951Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-02-15T09:45:31.951Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:45:31.959Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:45:31.960Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-02-15T09:45:31.960Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:45:31.960Z] [worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: Assigning socketPath: /tmp/fire_emu_8930.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: Assigning socketPath: /tmp/fire_emu_8930.sock"}}
[debug] [2021-02-15T09:45:31.960Z] [worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: BUSY"}}
[debug] [2021-02-15T09:45:32.306Z] [runtime-status] [8930] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:45:32.311Z] [runtime-status] [8930] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:45:32.323Z] [runtime-status] [8930] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.329Z] [runtime-status] [8930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.333Z] [runtime-status] [8930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.340Z] [runtime-status] [8930] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:45:32.344Z] [runtime-status] [8930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.452Z] [runtime-status] [8930] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:45:32.456Z] [runtime-status] [8930] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:45:32.462Z] [runtime-status] [8930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.475Z] [runtime-status] [8930] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.475Z] [runtime-status] [8930] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:45:32.475Z] [runtime-status] [8930] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:45:32.679Z] [runtime-status] [8930] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:45:32.681Z] [runtime-status] [8930] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:45:32.681Z] [runtime-status] [8930] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:45:32.687Z] [runtime-status] [8930] Attempting to listen to socketPath: /tmp/fire_emu_8930.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Attempting to listen to socketPath: /tmp/fire_emu_8930.sock"}}
[debug] [2021-02-15T09:45:32.705Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:45:32.705Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:45:32.741Z] [runtime-status] [8930] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:45:32.763Z] [runtime-status] [8930] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8930] Ephemeral server survived."}}
[info] >  (node:8930) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8930) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8930) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8930) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8930) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8930) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8930) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8930) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8930) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:45:38.020Z] [worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: exited"}}
[debug] [2021-02-15T09:45:38.020Z] [worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-da7f6f7f-a470-4a79-8a4c-f5f03a85f14e]: FINISHED"}}
[debug] [2021-02-15T09:45:38.021Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:46:06.604Z] [worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: exited"}}
[debug] [2021-02-15T09:46:06.604Z] [worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5a0c1f20-ea21-4d0e-b51f-1b270dea5829]: FINISHED"}}
[debug] [2021-02-15T09:46:06.604Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:46:32.697Z] [worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: exited"}}
[debug] [2021-02-15T09:46:32.698Z] [worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-91868ca3-a4a6-4140-98f5-68dff499ffc1]: FINISHED"}}
[debug] [2021-02-15T09:46:32.698Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:47:12.790Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:47:12.790Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:47:12.790Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:47:12.791Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-02-15T09:47:12.802Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:47:12.803Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:47:12.803Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:47:12.804Z] [worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: Assigning socketPath: /tmp/fire_emu_8996.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: Assigning socketPath: /tmp/fire_emu_8996.sock"}}
[debug] [2021-02-15T09:47:12.804Z] [worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: BUSY"}}
[debug] [2021-02-15T09:47:13.156Z] [runtime-status] [8996] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:47:13.161Z] [runtime-status] [8996] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:47:13.165Z] [runtime-status] [8996] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.168Z] [runtime-status] [8996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.173Z] [runtime-status] [8996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.182Z] [runtime-status] [8996] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:47:13.183Z] [runtime-status] [8996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.254Z] [runtime-status] [8996] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:47:13.255Z] [runtime-status] [8996] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:47:13.258Z] [runtime-status] [8996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.258Z] [runtime-status] [8996] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.258Z] [runtime-status] [8996] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:13.259Z] [runtime-status] [8996] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:47:13.462Z] [runtime-status] [8996] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:47:13.463Z] [runtime-status] [8996] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:47:13.463Z] [runtime-status] [8996] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:47:13.469Z] [runtime-status] [8996] Attempting to listen to socketPath: /tmp/fire_emu_8996.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Attempting to listen to socketPath: /tmp/fire_emu_8996.sock"}}
[debug] [2021-02-15T09:47:13.480Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:47:13.484Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:47:13.516Z] [runtime-status] [8996] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:47:13.525Z] [runtime-status] [8996] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8996] Ephemeral server survived."}}
[info] >  (node:8996) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:8996) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8996) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:8996) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8996) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8996) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8996) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8996) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8996) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-02-15T09:47:39.783Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-02-15T09:47:39.784Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-02-15T09:47:39.784Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:47:39.794Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:47:39.795Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-02-15T09:47:39.795Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:47:39.795Z] [worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: Assigning socketPath: /tmp/fire_emu_9024.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: Assigning socketPath: /tmp/fire_emu_9024.sock"}}
[debug] [2021-02-15T09:47:39.796Z] [worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: BUSY"}}
[debug] [2021-02-15T09:47:40.121Z] [runtime-status] [9024] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:47:40.126Z] [runtime-status] [9024] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:47:40.135Z] [runtime-status] [9024] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.137Z] [runtime-status] [9024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.150Z] [runtime-status] [9024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.169Z] [runtime-status] [9024] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:47:40.180Z] [runtime-status] [9024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.293Z] [runtime-status] [9024] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:47:40.298Z] [runtime-status] [9024] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:47:40.302Z] [runtime-status] [9024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.304Z] [runtime-status] [9024] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.305Z] [runtime-status] [9024] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:47:40.306Z] [runtime-status] [9024] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:47:40.507Z] [runtime-status] [9024] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:47:40.508Z] [runtime-status] [9024] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:47:40.508Z] [runtime-status] [9024] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:47:40.546Z] [runtime-status] [9024] Attempting to listen to socketPath: /tmp/fire_emu_9024.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Attempting to listen to socketPath: /tmp/fire_emu_9024.sock"}}
[debug] [2021-02-15T09:47:40.547Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:47:40.548Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:47:40.584Z] [runtime-status] [9024] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:47:40.605Z] [runtime-status] [9024] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9024] Ephemeral server survived."}}
[info] >  (node:9024) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:9024) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9024) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:9024) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9024) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9024) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9024) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9024) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9024) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:48:13.482Z] [worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: exited"}}
[debug] [2021-02-15T09:48:13.482Z] [worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6c1c7cc-8e7c-4ba9-a5ce-5a6b009b0b37]: FINISHED"}}
[debug] [2021-02-15T09:48:13.482Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:48:40.529Z] [worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: exited"}}
[debug] [2021-02-15T09:48:40.529Z] [worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-173fa7e2-f5a6-4c39-88c9-0b5873430882]: FINISHED"}}
[debug] [2021-02-15T09:48:40.529Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:48:58.319Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:48:58.320Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:48:58.320Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:48:58.320Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-02-15T09:48:58.329Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:48:58.330Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:48:58.330Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:48:58.330Z] [worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: Assigning socketPath: /tmp/fire_emu_9122.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: Assigning socketPath: /tmp/fire_emu_9122.sock"}}
[debug] [2021-02-15T09:48:58.331Z] [worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: BUSY"}}
[debug] [2021-02-15T09:48:58.699Z] [runtime-status] [9122] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:48:58.703Z] [runtime-status] [9122] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:48:58.708Z] [runtime-status] [9122] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.712Z] [runtime-status] [9122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.718Z] [runtime-status] [9122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.721Z] [runtime-status] [9122] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:48:58.725Z] [runtime-status] [9122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.829Z] [runtime-status] [9122] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:48:58.830Z] [runtime-status] [9122] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:48:58.839Z] [runtime-status] [9122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.840Z] [runtime-status] [9122] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.840Z] [runtime-status] [9122] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:48:58.840Z] [runtime-status] [9122] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:48:59.065Z] [runtime-status] [9122] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:48:59.072Z] [runtime-status] [9122] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:48:59.072Z] [runtime-status] [9122] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:48:59.077Z] [runtime-status] [9122] Attempting to listen to socketPath: /tmp/fire_emu_9122.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Attempting to listen to socketPath: /tmp/fire_emu_9122.sock"}}
[debug] [2021-02-15T09:48:59.114Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:48:59.114Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:48:59.155Z] [runtime-status] [9122] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:48:59.170Z] [runtime-status] [9122] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9122] Ephemeral server survived."}}
[info] >  (node:9122) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:9122) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9122) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:9122) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9122) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9122) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9122) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9122) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9122) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:49:59.092Z] [worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: exited"}}
[debug] [2021-02-15T09:49:59.092Z] [worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-442e8cdb-5ada-4837-a53d-0f469fadd7ab]: FINISHED"}}
[debug] [2021-02-15T09:49:59.092Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T09:50:35.288Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T09:50:35.288Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:50:35.288Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:50:35.289Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-02-15T09:50:35.300Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:50:35.305Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T09:50:35.305Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:50:35.305Z] [worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: Assigning socketPath: /tmp/fire_emu_9183.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: Assigning socketPath: /tmp/fire_emu_9183.sock"}}
[debug] [2021-02-15T09:50:35.305Z] [worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: BUSY"}}
[debug] [2021-02-15T09:50:35.654Z] [runtime-status] [9183] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:50:35.659Z] [runtime-status] [9183] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:50:35.661Z] [runtime-status] [9183] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.665Z] [runtime-status] [9183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.669Z] [runtime-status] [9183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.676Z] [runtime-status] [9183] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:50:35.676Z] [runtime-status] [9183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.753Z] [runtime-status] [9183] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:50:35.754Z] [runtime-status] [9183] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:50:35.756Z] [runtime-status] [9183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.757Z] [runtime-status] [9183] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.758Z] [runtime-status] [9183] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:50:35.761Z] [runtime-status] [9183] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:50:35.970Z] [runtime-status] [9183] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:50:35.972Z] [runtime-status] [9183] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:50:35.972Z] [runtime-status] [9183] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:50:35.979Z] [runtime-status] [9183] Attempting to listen to socketPath: /tmp/fire_emu_9183.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Attempting to listen to socketPath: /tmp/fire_emu_9183.sock"}}
[debug] [2021-02-15T09:50:35.984Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:50:35.991Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:50:36.013Z] [runtime-status] [9183] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:50:36.031Z] [runtime-status] [9183] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9183] Ephemeral server survived."}}
[info] >  (node:9183) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:9183) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9183) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:9183) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9183) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9183) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9183) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9183) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9183) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-02-15T09:51:11.739Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-02-15T09:51:11.740Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-02-15T09:51:11.740Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:51:11.756Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:51:11.756Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-02-15T09:51:11.756Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:51:11.756Z] [worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: Assigning socketPath: /tmp/fire_emu_9228.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: Assigning socketPath: /tmp/fire_emu_9228.sock"}}
[debug] [2021-02-15T09:51:11.756Z] [worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: BUSY"}}
[debug] [2021-02-15T09:51:12.110Z] [runtime-status] [9228] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:51:12.114Z] [runtime-status] [9228] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:51:12.125Z] [runtime-status] [9228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.125Z] [runtime-status] [9228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.126Z] [runtime-status] [9228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.126Z] [runtime-status] [9228] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:51:12.131Z] [runtime-status] [9228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.241Z] [runtime-status] [9228] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:51:12.241Z] [runtime-status] [9228] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:51:12.242Z] [runtime-status] [9228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.242Z] [runtime-status] [9228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.247Z] [runtime-status] [9228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:12.247Z] [runtime-status] [9228] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:51:12.486Z] [runtime-status] [9228] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:51:12.488Z] [runtime-status] [9228] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:51:12.488Z] [runtime-status] [9228] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:51:12.495Z] [runtime-status] [9228] Attempting to listen to socketPath: /tmp/fire_emu_9228.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Attempting to listen to socketPath: /tmp/fire_emu_9228.sock"}}
[debug] [2021-02-15T09:51:12.509Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:51:12.510Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:51:12.537Z] [runtime-status] [9228] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:51:12.557Z] [runtime-status] [9228] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9228] Ephemeral server survived."}}
[info] >  (node:9228) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:9228) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9228) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:9228) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9228) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9228) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9228) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9228) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9228) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:51:35.988Z] [worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: exited"}}
[debug] [2021-02-15T09:51:35.988Z] [worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b9c684c-2e47-4a38-8757-0fba6928585b]: FINISHED"}}
[debug] [2021-02-15T09:51:35.988Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:51:42.015Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-02-15T09:51:42.015Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-02-15T09:51:42.015Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:51:42.016Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-02-15T09:51:42.030Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:51:42.031Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-02-15T09:51:42.031Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:51:42.031Z] [worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: Assigning socketPath: /tmp/fire_emu_9254.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: Assigning socketPath: /tmp/fire_emu_9254.sock"}}
[debug] [2021-02-15T09:51:42.031Z] [worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: BUSY"}}
[debug] [2021-02-15T09:51:42.470Z] [runtime-status] [9254] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:51:42.474Z] [runtime-status] [9254] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:51:42.480Z] [runtime-status] [9254] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.486Z] [runtime-status] [9254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.486Z] [runtime-status] [9254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.494Z] [runtime-status] [9254] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:51:42.495Z] [runtime-status] [9254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.615Z] [runtime-status] [9254] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:51:42.615Z] [runtime-status] [9254] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:51:42.621Z] [runtime-status] [9254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.624Z] [runtime-status] [9254] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.625Z] [runtime-status] [9254] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:51:42.626Z] [runtime-status] [9254] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:51:42.899Z] [runtime-status] [9254] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:51:42.901Z] [runtime-status] [9254] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:51:42.902Z] [runtime-status] [9254] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:51:42.913Z] [runtime-status] [9254] Attempting to listen to socketPath: /tmp/fire_emu_9254.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Attempting to listen to socketPath: /tmp/fire_emu_9254.sock"}}
[debug] [2021-02-15T09:51:42.919Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:51:42.919Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:51:42.963Z] [runtime-status] [9254] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:51:42.973Z] [runtime-status] [9254] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9254] Ephemeral server survived."}}
[info] >  (node:9254) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:9254) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9254) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:9254) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9254) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9254) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9254) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9254) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9254) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:52:12.509Z] [worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: exited"}}
[debug] [2021-02-15T09:52:12.509Z] [worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5bd743c5-c4ab-48ef-a94e-0579491948c7]: FINISHED"}}
[debug] [2021-02-15T09:52:12.510Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T09:52:41.415Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-02-15T09:52:41.415Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-02-15T09:52:41.415Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T09:52:41.415Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-02-15T09:52:41.431Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T09:52:41.431Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-02-15T09:52:41.431Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T09:52:41.432Z] [worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: Assigning socketPath: /tmp/fire_emu_9312.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: Assigning socketPath: /tmp/fire_emu_9312.sock"}}
[debug] [2021-02-15T09:52:41.432Z] [worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: BUSY"}}
[debug] [2021-02-15T09:52:41.818Z] [runtime-status] [9312] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T09:52:41.837Z] [runtime-status] [9312] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Disabled runtime features: undefined"}}
[debug] [2021-02-15T09:52:41.840Z] [runtime-status] [9312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.842Z] [runtime-status] [9312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.842Z] [runtime-status] [9312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.843Z] [runtime-status] [9312] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T09:52:41.843Z] [runtime-status] [9312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.927Z] [runtime-status] [9312] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T09:52:41.927Z] [runtime-status] [9312] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T09:52:41.928Z] [runtime-status] [9312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.933Z] [runtime-status] [9312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.933Z] [runtime-status] [9312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T09:52:41.933Z] [runtime-status] [9312] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T09:52:42.144Z] [runtime-status] [9312] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T09:52:42.145Z] [runtime-status] [9312] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T09:52:42.146Z] [runtime-status] [9312] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Running api in mode HTTPS"}}
[debug] [2021-02-15T09:52:42.151Z] [runtime-status] [9312] Attempting to listen to socketPath: /tmp/fire_emu_9312.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Attempting to listen to socketPath: /tmp/fire_emu_9312.sock"}}
[debug] [2021-02-15T09:52:42.164Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T09:52:42.164Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T09:52:42.181Z] [runtime-status] [9312] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T09:52:42.196Z] [runtime-status] [9312] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9312] Ephemeral server survived."}}
[info] >  (node:9312) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:9312) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9312) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:9312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:52:42.923Z] [worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: exited"}}
[debug] [2021-02-15T09:52:42.923Z] [worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6723e6-d81b-4129-ab41-24de77a95760]: FINISHED"}}
[debug] [2021-02-15T09:52:42.923Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T09:53:42.163Z] [worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: exited"}}
[debug] [2021-02-15T09:53:42.163Z] [worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4db97679-c4f8-4054-bf63-19423852eec8]: FINISHED"}}
[debug] [2021-02-15T09:53:42.163Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-15T11:54:07.231Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-15T11:54:07.232Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-15T11:54:07.232Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-15T11:54:07.232Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-02-15T11:54:07.372Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-15T11:54:07.373Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-15T11:54:07.373Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-15T11:54:07.373Z] [worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: Assigning socketPath: /tmp/fire_emu_18331.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: Assigning socketPath: /tmp/fire_emu_18331.sock"}}
[debug] [2021-02-15T11:54:07.373Z] [worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: BUSY"}}
[debug] [2021-02-15T11:54:12.555Z] [runtime-status] [18331] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-15T11:54:12.558Z] [runtime-status] [18331] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Disabled runtime features: undefined"}}
[debug] [2021-02-15T11:54:12.621Z] [runtime-status] [18331] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:12.641Z] [runtime-status] [18331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:12.642Z] [runtime-status] [18331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:12.645Z] [runtime-status] [18331] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-15T11:54:12.646Z] [runtime-status] [18331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:13.169Z] [runtime-status] [18331] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-15T11:54:13.169Z] [runtime-status] [18331] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-15T11:54:13.174Z] [runtime-status] [18331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:13.175Z] [runtime-status] [18331] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:13.180Z] [runtime-status] [18331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-15T11:54:13.180Z] [runtime-status] [18331] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-15T11:54:14.646Z] [runtime-status] [18331] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-15T11:54:14.648Z] [runtime-status] [18331] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-15T11:54:14.648Z] [runtime-status] [18331] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Running api in mode HTTPS"}}
[debug] [2021-02-15T11:54:14.655Z] [runtime-status] [18331] Attempting to listen to socketPath: /tmp/fire_emu_18331.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Attempting to listen to socketPath: /tmp/fire_emu_18331.sock"}}
[debug] [2021-02-15T11:54:14.687Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-15T11:54:14.687Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-15T11:54:14.766Z] [runtime-status] [18331] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-15T11:54:14.774Z] [runtime-status] [18331] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [18331] Ephemeral server survived."}}
[info] >  (node:18331) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:18331) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18331) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:18331) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:18331) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18331) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:18331) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:18331) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:18331) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-15T11:55:14.723Z] [worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: exited"}}
[debug] [2021-02-15T11:55:14.723Z] [worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7d6c0977-d7b1-430b-8c44-a723b7164b42]: FINISHED"}}
[debug] [2021-02-15T11:55:14.723Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-16T07:49:18.960Z] d [FetchError]: request to http://localhost:4400/emulators failed, reason: connect ECONNREFUSED ::1:4400
    at ClientRequest.<anonymous> (/home/parin/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js:326:16793)
    at ClientRequest.emit (events.js:315:20)
    at Socket.socketErrorListener (_http_client.js:426:9)
    at Socket.emit (events.js:315:20)
    at emitErrorNT (internal/streams/destroy.js:92:8)
    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)
    at processTicksAndRejections (internal/process/task_queues.js:84:21) {
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED'
}
 {"metadata":{"emulator":{"name":"ui"},"message":"d [FetchError]: request to http://localhost:4400/emulators failed, reason: connect ECONNREFUSED ::1:4400\n    at ClientRequest.<anonymous> (/home/parin/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js:326:16793)\n    at ClientRequest.emit (events.js:315:20)\n    at Socket.socketErrorListener (_http_client.js:426:9)\n    at Socket.emit (events.js:315:20)\n    at emitErrorNT (internal/streams/destroy.js:92:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21) {\n  type: 'system',\n  errno: 'ECONNREFUSED',\n  code: 'ECONNREFUSED'\n}\n"}}
[debug] [2021-02-16T12:03:36.816Z] d [FetchError]: request to http://localhost:4400/emulators failed, reason: connect ECONNREFUSED ::1:4400
    at ClientRequest.<anonymous> (/home/parin/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js:326:16793)
    at ClientRequest.emit (events.js:315:20)
    at Socket.socketErrorListener (_http_client.js:426:9)
    at Socket.emit (events.js:315:20)
    at emitErrorNT (internal/streams/destroy.js:92:8)
    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)
    at processTicksAndRejections (internal/process/task_queues.js:84:21) {
  type: 'system',
  errno: 'ECONNREFUSED',
  code: 'ECONNREFUSED'
}
 {"metadata":{"emulator":{"name":"ui"},"message":"d [FetchError]: request to http://localhost:4400/emulators failed, reason: connect ECONNREFUSED ::1:4400\n    at ClientRequest.<anonymous> (/home/parin/.cache/firebase/emulators/ui-v1.4.1/server.bundle.js:326:16793)\n    at ClientRequest.emit (events.js:315:20)\n    at Socket.socketErrorListener (_http_client.js:426:9)\n    at Socket.emit (events.js:315:20)\n    at emitErrorNT (internal/streams/destroy.js:92:8)\n    at emitErrorAndCloseNT (internal/streams/destroy.js:60:3)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21) {\n  type: 'system',\n  errno: 'ECONNREFUSED',\n  code: 'ECONNREFUSED'\n}\n"}}
[debug] [2021-02-16T14:56:40.220Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-16T14:56:40.222Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-16T14:56:40.222Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=0 --> api
[debug] [2021-02-16T14:56:40.222Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-02-16T14:56:40.262Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-16T14:56:40.263Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-16T14:56:40.263Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-16T14:56:40.263Z] [worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: Assigning socketPath: /tmp/fire_emu_39008.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: Assigning socketPath: /tmp/fire_emu_39008.sock"}}
[debug] [2021-02-16T14:56:40.263Z] [worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: BUSY"}}
[debug] [2021-02-16T14:56:43.627Z] [runtime-status] [39008] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-16T14:56:43.631Z] [runtime-status] [39008] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Disabled runtime features: undefined"}}
[debug] [2021-02-16T14:56:43.686Z] [runtime-status] [39008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:43.695Z] [runtime-status] [39008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:43.698Z] [runtime-status] [39008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:43.705Z] [runtime-status] [39008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-16T14:56:43.708Z] [runtime-status] [39008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:44.265Z] [runtime-status] [39008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-16T14:56:44.266Z] [runtime-status] [39008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-16T14:56:44.271Z] [runtime-status] [39008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:44.273Z] [runtime-status] [39008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:44.276Z] [runtime-status] [39008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T14:56:44.285Z] [runtime-status] [39008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-16T14:56:45.777Z] [runtime-status] [39008] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-16T14:56:45.779Z] [runtime-status] [39008] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-16T14:56:45.779Z] [runtime-status] [39008] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Running api in mode HTTPS"}}
[debug] [2021-02-16T14:56:45.784Z] [runtime-status] [39008] Attempting to listen to socketPath: /tmp/fire_emu_39008.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Attempting to listen to socketPath: /tmp/fire_emu_39008.sock"}}
[debug] [2021-02-16T14:56:45.807Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-16T14:56:45.810Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-02-16T14:56:45.912Z] [runtime-status] [39008] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 0 {"user":"payment request received for the amount >>> 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 0"}}
[debug] [2021-02-16T14:56:45.923Z] [runtime-status] [39008] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [39008] Ephemeral server survived."}}
[info] >  (node:39008) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:39008) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:39008) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:39008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:39008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:39008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:39008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:39008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:39008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-16T14:57:45.800Z] [worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: exited"}}
[debug] [2021-02-16T14:57:45.801Z] [worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a2f6b651-a1d1-4f44-951c-68bcea72f620]: FINISHED"}}
[debug] [2021-02-16T14:57:45.801Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-02-16T15:24:51.629Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-02-16T15:24:51.630Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-02-16T15:24:51.630Z] Accepted request POST /clone-3d08a/us-central1/api/payments/create?total=26899 --> api
[debug] [2021-02-16T15:24:51.630Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-02-16T15:24:51.652Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-02-16T15:24:51.653Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-02-16T15:24:51.653Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-02-16T15:24:51.654Z] [worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: Assigning socketPath: /tmp/fire_emu_41181.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: Assigning socketPath: /tmp/fire_emu_41181.sock"}}
[debug] [2021-02-16T15:24:51.654Z] [worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: BUSY"}}
[debug] [2021-02-16T15:24:53.078Z] [runtime-status] [41181] Functions runtime initialized. {"cwd":"/home/parin/Documents/amazon-clone/functions","node_version":"12.18.3"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Functions runtime initialized. {\"cwd\":\"/home/parin/Documents/amazon-clone/functions\",\"node_version\":\"12.18.3\"}"}}
[debug] [2021-02-16T15:24:53.081Z] [runtime-status] [41181] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Disabled runtime features: undefined"}}
[debug] [2021-02-16T15:24:53.087Z] [runtime-status] [41181] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.090Z] [runtime-status] [41181] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.092Z] [runtime-status] [41181] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.096Z] [runtime-status] [41181] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-02-16T15:24:53.097Z] [runtime-status] [41181] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.477Z] [runtime-status] [41181] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-02-16T15:24:53.478Z] [runtime-status] [41181] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-02-16T15:24:53.481Z] [runtime-status] [41181] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.484Z] [runtime-status] [41181] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.485Z] [runtime-status] [41181] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.1","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.1\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-02-16T15:24:53.487Z] [runtime-status] [41181] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.4.2","resolution":"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.4.2\",\"resolution\":\"/home/parin/Documents/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-02-16T15:24:54.335Z] [runtime-status] [41181] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-02-16T15:24:54.337Z] [runtime-status] [41181] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-02-16T15:24:54.337Z] [runtime-status] [41181] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Running api in mode HTTPS"}}
[debug] [2021-02-16T15:24:54.347Z] [runtime-status] [41181] Attempting to listen to socketPath: /tmp/fire_emu_41181.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Attempting to listen to socketPath: /tmp/fire_emu_41181.sock"}}
[debug] [2021-02-16T15:24:54.350Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-02-16T15:24:54.350Z] [functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=26899, mapping to path=/payments/create?total=26899 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-3d08a/us-central1/api/payments/create?total=26899, mapping to path=/payments/create?total=26899"}}
[debug] [2021-02-16T15:24:54.394Z] [runtime-status] [41181] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Ephemeral server handling POST request"}}
[info] >  payment request received for the amount >>> 26899 {"user":"payment request received for the amount >>> 26899","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment request received for the amount >>> 26899"}}
[debug] [2021-02-16T15:24:54.418Z] [runtime-status] [41181] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [41181] Ephemeral server survived."}}
[info] >  (node:41181) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:41181) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:41181) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/index.js:23:50 {"user":"    at /home/parin/Documents/amazon-clone/functions/index.js:23:50","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/index.js:23:50"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at /home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12) {"user":"    at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:335:12)"}}
[info] >      at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at next (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/parin/Documents/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/parin/Documents/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (node:41181) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:41181) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:41181) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:41181) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:41181) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:41181) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640 {"user":"/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19) {"user":"    at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/parin/.nvm/versions/node/v12.18.3/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:640:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2021-02-16T15:25:54.402Z] [worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: exited"}}
[debug] [2021-02-16T15:25:54.403Z] [worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a8629b28-af2a-45b0-a0f4-1098e1f4b83e]: FINISHED"}}
[debug] [2021-02-16T15:25:54.403Z] [work-queue] {"queueLength":0,"workRunningCount":0}
